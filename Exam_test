#in every r project you first have to set thw working directory and load the packages you are going to need
setwd("C:/monitoring_exam")
library(raster)
library(rgdal)
library(sdm)
# sf & sp packages are needed to create the shapefile of occurrences starting from the paper additional data
library(sp)
library(sf)

#since library(gdata) isn't working i have to import the specie dataframe from the clipboard 
#go to the xls file, select all, CTRL + C, then move to r and type this code
#specie_data <- read.table(file = "clipboard", sep = "\t", header=TRUE)
#starting from second time you can use read.csv
specie_data <- read.csv(file="specie_data.csv")
nSite <- specie_data$Site
nLat <- specie_data$Latitude
nLong <- specie_data$Longitude
#now I am saving the dataframe in a csv 
#write.csv(specie_data, "C:/monitoring_exam/specie_data.csv")

#I am missing occurrences, so i must modify the dataframe before converting it into a shÃ¨

#creation of the spatial dataframe

neanderthal.xy= specie_data[c("Longitude","Latitude")]
coordinates(neanderthal.xy) <- ~Longitude+Latitude

#with st_as_sf function you are able to create a simple feature object starting from a spatial point object
neanderthal.sf <- st_as_sf(neanderthal.xy)
#now you convert the spatial object into a shp
st_write(neanderthal.sf, "C:/monitoring_exam/neanderthal_shp.shp")
######i have problems with occurences shapefile

#ns <- c('Kabazi II', 'Krapina','Abri des Pecheurs', 'Payre', 'Grotte Vaufrey', 'Gouberville')
#nlat<- c(44.83, 45.84, 46.17, 44.30, 44.32)
#nlong<- c(34.08, 15.87, 15.86, 4.40, 4.56)
#ndf <- data.frame(Site = , Latitude = , Longitude = )

lst<- list.files(pattern='bil', full.names = T)

predictors <- stack(lst)
cl <- colorRampPalette(c('blue','orange','red','yellow')) (100)

plot(predictors$lig_30s_bio_5, col = cl)

#now we start with the sdm creation
#in order to create a sdm you need presences shapefile and predictors. 
species <- shapefile("neanderthal_shp.shp")
